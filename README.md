This is the code for the Arduino that powered my homemade autonomous rover, which had four mechanum wheels and used ultrasonic sensors to perceive its surroundings. It was capable of detecting obstacles on any of its four sides.
